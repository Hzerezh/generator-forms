# My Vue App

Данный проект – пример приложения на Vue 3 с использованием Vite, TypeScript и современных библиотек, таких как Pinia, Vue Router, PrimeVue, openapi-typescript-fetch, vee-validate, vue-i18n, dayjs, apexcharts, а также тестовой среды Vitest. Проект организован согласно методологии Feature-Sliced Design (FSD).

## Оглавление

- [Установка](#установка)
- [Запуск проекта](#запуск-проекта)
- [Структура проекта](#структура-проекта)
- [Настройка ESLint и тестов](#настройка-eslint-и-тестов)
- [Описание FSD](#описание-fsd)
- [Полезные ссылки](#полезные-ссылки)

## Установка

1. **Клонируйте репозиторий и перейдите в директорию проекта:**

   ```bash
   git clone <URL_репозитория>
   cd my-vue-app
   ```

2. **Установите зависимости:**

   ```bash
   npm install
   ```

3. **Запустите проект в режиме разработки:**

   ```bash
   npm run dev
   ```

4. **Для сборки проекта выполните:**

   ```bash
   npm run build
   ```

5. **Для предпросмотра собранного проекта запустите:**

   ```bash
   npm run preview
   ```

6. **Запуск тестов:**

   ```bash
   npm run test
   ```

## Структура проекта

Проект организован по методологии Feature-Sliced Design (FSD), что позволяет наглядно распределить функциональность по слоям. Примерная структура:

```plaintext
StatFlow/
├── node_modules/
├── public/
│   └── index.html              # Статичный файл HTML
├── src/
│   ├── app/                    # Точка входа и глобальная конфигурация
│   │   ├── main.ts             # Инициализация приложения
│   │   └── App.vue             # Корневой компонент приложения
│   │
│   ├── entities/               # Доменные модели и типы, независимые от UI
│   │   ├── form/               # Интерфейсы и модели формы, версионирование форм
│   │   │   └── Form.model.ts
│   │   ├── user/               # Модели пользователя, роли, права
│   │   │   └── User.model.ts
│   │   ├── group/              # Интерфейсы и модели групп сотрудников
│   │   │   └── Group.model.ts
│   │   └── statistics/         # Модели данных для аналитики и статистики
│   │       └── Statistics.model.ts
│   │
│   ├── features/               # Функциональные блоки системы
│   │   ├── form-management/    # Управление формами (создание, редактирование, версионирование)
│   │   │   ├── components/     # UI-компоненты для работы с формами (формы, редакторы)
│   │   │   │   ├── FormEditor.vue
│   │   │   │   └── FormList.vue
│   │   │   ├── api/            # API-слой для форм (CRUD, версионирование, копирование)
│   │   │   │   └── form.api.ts
│   │   │   └── hooks/          # Логика работы с формами (например, useForm.ts)
│   │   │       └── useForm.ts
│   │   │
│   │   ├── user-management/    # Управление пользователями и авторизация
│   │   │   ├── components/     # Компоненты для авторизации, профилей, списков пользователей
│   │   │   │   ├── Login.vue
│   │   │   │   └── UserProfile.vue
│   │   │   └── api/            # API-слой для аутентификации (JWT) и управления пользователями
│   │   │       └── auth.api.ts
│   │   │
│   │   ├── group-management/   # Управление группами сотрудников
│   │   │   ├── components/     # Компоненты для создания, редактирования и просмотра групп
│   │   │   │   └── GroupManager.vue
│   │   │   └── api/            # API для работы с группами
│   │   │       └── group.api.ts
│   │   │
│   │   └── statistics/         # Анализ и визуализация статистики
│   │       ├── components/     # Компоненты для графиков, таблиц, отчетов (например, с использованием ApexCharts)
│   │       │   ├── Dashboard.vue
│   │       │   └── Chart.vue
│   │       └── api/            # API для получения статистических данных и экспорта (Excel, CSV)
│   │           └── statistics.api.ts
│   │
│   ├── pages/                  # Страничные компоненты, которые объединяют фичи
│   │   ├── Dashboard/          # Страница аналитики и визуализации статистики
│   │   │   └── DashboardPage.vue
│   │   ├── Forms/              # Страница управления формами
│   │   │   └── FormsPage.vue
│   │   ├── Auth/               # Страница авторизации и регистрации
│   │   │   └── AuthPage.vue
│   │   └── Groups/             # Страница управления группами сотрудников
│   │       └── GroupsPage.vue
│   │
│   ├── widgets/                # Переиспользуемые сложные UI-компоненты (например, комбинированные блоки, карточки)
│   │   └── StatisticsWidget.vue
│   │
│   ├── shared/                 # Общие ресурсы, используемые по всему приложению
│   │   ├── ui/                 # Универсальные UI-компоненты (Button, Modal, Input и т.д.)
│   │   │   ├── Button.vue
│   │   │   └── Modal.vue
│   │   ├── utils/              # Утилиты и хелперы (например, функции для работы с датами на основе Day.js)
│   │   │   └── dateUtils.ts
│   │   ├── services/           # Общие сервисы (напр. интеграция с API через openapi-typescript-fetch)
│   │   │   └── apiService.ts
│   │   └── constants/          # Константы и глобальные настройки
│   │       └── appConstants.ts
│   │
│   ├── router/                 # Маршруты приложения
│   │   └── index.ts            # Определение маршрутов для страниц
│   │
│   ├── store/                  # Глобальное состояние (Pinia)
│   │   └── index.ts            # Основной файл для Pinia
│   │
│   └── i18n/                   # Локализация (vue-i18n)
│       └── index.ts            # Конфигурация локализации
│
├── tests/                      # Тесты проекта (Vitest, @vue/test-utils)
├── .eslintrc.cjs           # Конфигурация ESLint
├── tsconfig.json           # Конфигурация TypeScript
├── vite.config.ts          # Конфигурация Vite (включая настройки Vitest)
├── package.json            # Скрипты и зависимости
└── README.md               # Данный файл
```

## Настройка ESLint и тестов

- **ESLint** – конфигурация находится в файле [`.eslintrc.cjs`](./.eslintrc.cjs). Чтобы проанализировать ваш код, можно использовать команду:

  ```bash
  npm run lint
  ```

  Если скрипт lint еще не добавлен, внесите его в секцию `scripts` вашего `package.json`:

  ```json
  "lint": "eslint \"src/**/*.{js,ts,vue}\""
  ```

- **Vitest** – тестовая среда настроена через [`vite.config.ts`](./vite.config.ts) и [`src/setupTests.ts`](./src/setupTests.ts). Для запуска тестов выполните:

  ```bash
  npm run test
  ```

## Описание FSD

Методология Feature-Sliced Design определяет следующие слои:

- **App:** Точка входа приложения и глобальная конфигурация (файл `main.ts`, компонент `App.vue`).
- **Entities:** Доменные модели, типы и базовая бизнес-логика.
- **Features:** Фичи, описывающие отдельные функциональные блоки приложения.
- **Pages:** Страницы приложения, каждая из которых может включать несколько фич.
- **Widgets:** Сложные переиспользуемые компоненты, объединяющие функциональность нескольких фич.
- **Shared:** Универсальные компоненты, утилиты, константы и стили, используемые во всем проекте.
- **Router:** Настройка маршрутизации (vue-router).
- **Store:** Глобальное состояние приложения, управляемое через Pinia.

Такое разделение позволяет легко масштабировать проект и упрощает поддержку кода.

## Полезные ссылки

- [Документация Vite](https://vitejs.dev)
- [Документация Vue 3](https://v3.vuejs.org)
- [Feature-Sliced Design](https://feature-sliced.design/ru/)
- [ESLint](https://eslint.org)
- [Vitest](https://vitest.dev)